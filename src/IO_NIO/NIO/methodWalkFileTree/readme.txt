Метод Files.walkFileTree(Path start, FileVisitor visitor) используется для обхода дерева файлов.
Логика обхода дерева фалов заключается в классе импле-щем интерфейс FileVisitor.

preVisitDirectory  - срабатывает перед обрщением к элементам папки
visitFile          - срабатывает при обращении к файлу
postVisitDirectory - срабатывает после обращения ко всем элементам папки
visitFileFailed    - срабатывает когда файл по каким-то причинам недоступен

Значения FileVisitResult:
CONTINUE           - означает, что нудно продолжать обход по файлам
TERMINATE          - означает, что нужено немедленно прекратить обход по файлам
SKIP_SUBTREE       - означает, что в данную директорию заходить не надо
SKIP_SIBLINGS      - означает, что в данной директории продолжать обход по файлам не нужно